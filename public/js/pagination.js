function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}function disableScroll(){window.onmousewheel=preventDefault,document.onkeydown=preventDefaultForScrollKeys}window.addEventListener("load",function(){function e(e){if(y=(new Date).getTime(),y-E<L+800)return void e.preventDefault();e.preventDefault();var i=e.wheelDelta||-e.detail;i>0?t():n()}function t(){g<=0||(m=g,g-=1,i(g*window.innerHeight))}function n(){g>=p.length-1||(m=g,g+=1,i(g*window.innerHeight))}function i(e,t){if(!(e>window.innerHeight*p.length-window.innerHeight||e<0||m==g)){void 0==t&&s();var n=0==g;toggle(l,"selected-work-scroll",n),toggle(v,"selected-wrapper-scroll",n),toggle(f,"back-top-scroll",n),u.style.transition=void 0===t?"transform 0.8s "+k:"",u.style.transform="translate3d(0, "+-e+"px, 0)",getTransform(u),r(),E=y}}function o(){for(var e="100%",t=0;t<this.sections.length;t++){var n=this.sections[t];n.style.height=e}u.style.height=e,D=!1,i(g*window.innerHeight,!1)}function s(){function e(){var c=d?t[t.length-a-1]:t[a],u=d?n[n.length-a-1]:n[a],l=d?"down":"up",v=d?"up":"down";c.style.transition=i,c.classList.add(l),u.style.transition="",u.classList.add(v),setTimeout(function(){c.classList.remove(l)},o),setTimeout(function(){u.style.transition=i,u.classList.remove(v)},s),a+=1,setTimeout(function(){a<t.length&&e()},r*a)}var t=w[m],n=w[g],i="top 1s ease",o=800,s=200,r=80,d=m-g>0,a=0;e()}function r(e){var t=e||h[g],n=t.getBoundingClientRect().top,i=t.offsetWidth,o=a.offsetWidth;c.style.transition=D?"top 0.6s "+k+", height 0.6s "+k:"",a.style.transition=D?"top 0.6s "+k:"",D=!0,setTimeout(function(){c.style.top=n+"px",c.style.height=i+"px",void 0===e&&(a.style.top=n+i/2-o/2+"px")},0),c.style.transition="top 0.6s "+k+", height 0.6s "+k,a.style.transition="top 0.6s "+k}function d(e){function t(e){var i=e.touches;if(i&&i.length){e.preventDefault();var o=n-i[0].pageY;if(o>=50){var e=new Event("swipeDown");document.dispatchEvent(e)}else if(o<=-50){var e=new Event("swipeUp");document.dispatchEvent(e)}abs(o)>=50&&document.removeEventListener("touchmove",t)}}var n=0;document.addEventListener("touchstart",function(e){var i=e.touches;i&&i.length&&(n=i[0].pageY,document.addEventListener("touchmove",t))},!1)}var a=document.id("triangle"),c=document.id("indicator"),u=document.id("sections"),l=document.id("selected-work"),v=document.id("selected-wrapper"),f=document.id("back-top-button"),w=slice(document.classes("text"),3),h=document.classes("navigator"),p=document.tags("section"),g=0,m=g,y=(new Date).getTime(),E=0,L=700,D=!0,k="cubic-bezier(0.88, 0.12, 0.36, 0.79)";d(u),r(),f.addEventListener("click",function(){m=g,g=0,i(0)}),window.addEventListener("resize",function(){o(),r()}),window.addEventListener("focus",function(){o()}),document.addEventListener("swipeUp",function(e){t()}),document.addEventListener("swipeDown",function(e){n()}),window.addEventListener("DOMMouseScroll",e),window.addEventListener("mousewheel",e);for(var T=0;T<h.length;T++){var b=h[T];b.addEventListener("mouseover",function(){r(this)}),b.addEventListener("mouseout",function(){setTimeout(function(){r()},25)}),b.addEventListener("click",function(){y=(new Date).getTime(),y-E>L+800&&(m=g,g=h.indexOf(this),i(g*window.innerHeight))})}});var keys={32:1,37:1,38:1,39:1,40:1};disableScroll();