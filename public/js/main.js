function Scroller(){this.sections=[],this.method=empty,this.length=0,this.run=function(){if(exists("manifesto")){var e=document.class("story").tag("div"),n=document.class("manifesto").tag("div"),t=document.class("awards").tag("div"),i=document.id("footer").tag("div");this.sections=[e,n,t,i],this.method=this.manifesto,this.length=this.sections.length}},this.manifesto=function(){var e=window.innerHeight,n=this.sections.length,t=.6,i=window.innerHeight*t,s=.7,a=.5,o=e>600*s?e:600*s;if(this.length!==n&&(i=e+o*(s*(this.length-n-1)+s*a)),window.pageYOffset-i>0&&n>0){var r=this.sections[0];r.classList.contains("scroll-appearance")&&(r.classList.remove("scroll-appearance"),this.sections.shift())}}}function Disappear(){this.elements=[],this.prepare=function(){exists("manifesto")||isDetail()?this.elements=[document.id("back-button"),document.id("next-project")]:exists("myself")&&(this.elements=document.classes("intercept"));for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.addEventListener("click",function(e){e.preventDefault();var n=this.href,t=this;appearance.method(!1,function(){setTimeout(function(){if("go home"==t.innerHTML)if(storageSupported()){if(void 0!=window.sessionStorage.coming&&window.sessionStorage.coming.indexOf("index")!=-1)return window.sessionStorage.coming=window.location,void history.back();n="index",window.sessionStorage.coming=window.location}else n="index";window.location=n},0)})})}}}function Separator(e){this.elementName=e,this.wrapper=document.id(this.elementName),this.lastWidth=window.innerWidth,this.generate=function(){if(null!==this.wrapper&&(!(window.innerWidth>=1400||abs(this.lastWidth-window.innerWidth)<=10)||""==this.wrapper.innerHTML)){var e=1400,n=57,t=window.innerWidth>=e?e:window.innerWidth,i=t-n,s=2*Math.floor(i/11),a=[!0,!0,!0,!0,!0,!0,!1];this.wrapper.innerHTML="";for(var o=0;o<=s;o++){var r=document.createElement("div");r.classList.add("dot"),this.wrapper.appendChild(r),(!a[Math.floor(Math.random()*a.length)]||o<=5)&&(r.style.opacity=0)}this.lastWidth=window.innerWidth}}}var appearance=new Appearance;prepareDocument(),setupAnalytics(),window.addEventListener("load",function(){loadIndexCSS();var e=new Separator("dot-separator");e.generate();var n=new Scroller;n.run();var t=new Resizer;t.prepare();var i=new Disappear;i.prepare();var s=new Parallax;s.prepare();var a=new Loader;a.preload(function(){appearance.run()});for(var o=document.tags("img"),r=0;r<o.length;r++)o[r].addEventListener("dragstart",function(){event.preventDefault()});encryptCorreu("email"),window.addEventListener("resize",function(){e.generate(),t.method()});var d=(new Date).getTime();window.addEventListener("scroll",function(){if(window.pageYOffset<=.25*window.innerHeight){n.run();for(var e=0;e<n.sections.length;e++){var t=n.sections[e];t.classList.contains("scroll-appearance")||t.classList.add("scroll-appearance")}}else window.requestAnimationFrame(function(){n.method()});setTimeout(function(){var e=(new Date).getTime();e-d>10&&(d=e,window.requestAnimationFrame(s.method))},0)})}),window.addEventListener("beforeunload",function(e){exists("myself")||window.scrollTo(0,0)}),window.addEventListener("pageshow",function(e){e.persisted&&appearance.run()});